/*!
 * Start Bootstrap - Creative v5.1.4 (https://startbootstrap.com/template-overviews/creative)
 * Copyright 2013-2019 Start Bootstrap
 * Licensed under MIT (https://github.com/BlackrockDigital/startbootstrap-creative/blob/master/LICENSE)
 */

function UploadData(){$("#myModal").modal("show")}$(document).ready(function(){$("#rSave").prop("disabled",!0),$("#myModal").modal("hide"),$("#fileReader").fileinput({showPreview:!0,showZoom:!0,showCaption:!0,elErrorContainer:"#kartik-file-errors",allowedFileExtensions:["csv","json"],maxFileCount:2,minFileCount:2,browseLabel:"Select csv and json file"}),$("#fileReader").on("filebatchselected",function(e,n){for(var i,o={},t=0;t<2;t++){var r=n[t],a=new FileReader;a.readAsText(r),a.onload=function(e){var n=e.target.result;try{var t=$.parseJSON(n);i=t,o.rcps=Object(i)}catch(e){var r=[],a=n.split(/\r?\n|\r/);a.forEach(function(e){var n=e.split(","),t={};t.Item=n[0],t.Amount=n[1],t.Unit=n[2],t.Date=n[3],r.push(t)}),a=r,o.itms=Object(a)}finally{if(void 0===o.itms||void 0===o.rcps)return;$.ajax({beforeSend:function(){},type:"POST",contentType:"application/json",dataType:"json",data:JSON.stringify(o),url:"http://localhost:8080/setData",success:function(e){$("#rSave").prop("disabled",!1);var n=e.name;$("#rName").html(n);for(var t=e.ingredients,r=0,a=0;a<t.length;a++){r+=1;for(var i=document.getElementById("rTable"),o=0;o<3;o++){i.rows.length;var l=i.insertRow(),s=l.insertCell(),d=l.insertCell();0==o&&(s.innerHTML="Ingredient "+r,d.innerHTML="Item: "+t[a].item),1==o&&(s.innerHTML="",d.innerHTML="Amout: "+t[a].amount),2==o&&(s.innerHTML="",d.innerHTML="Unit: "+t[a].unit)}}}})}}}})});