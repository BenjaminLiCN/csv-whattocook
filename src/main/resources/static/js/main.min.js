/*!
 * Start Bootstrap - Creative v5.1.4 (https://startbootstrap.com/template-overviews/creative)
 * Copyright 2013-2019 Start Bootstrap
 * Licensed under MIT (https://github.com/BlackrockDigital/startbootstrap-creative/blob/master/LICENSE)
 */

function UploadData(){$("#myModal").modal("show")}$(document).ready(function(){$("#rSave").prop("disabled",!0),$("#myModal").modal("hide"),$("#fileReader").fileinput({enableResumableUpload:!0,uploadUrl:"#",showPreview:!0,showZoom:!0,showCaption:!0,elErrorContainer:"#kartik-file-errors",allowedFileExtensions:["csv","json"],maxFileCount:2,minFileCount:2,showUpload:!1,browseLabel:"Select csv and json file"}),$("#fileReader").on("filebatchselected",function(e,n){var i;$(".file-preview-status").css("display","none");var o={},t=Object.values(n);if(1!=t.length)for(var a=0;a<2;a++){var r=t[a],l=new FileReader;l.readAsText(r.file),l.onload=function(e){var n=e.target.result;try{var t=$.parseJSON(n);i=t,o.rcps=Object(i)}catch(e){var a=[],r=n.split(/\r?\n|\r/);r.forEach(function(e){var n=e.split(","),t={};t.Item=n[0],t.Amount=n[1],t.Unit=n[2],t.Date=n[3],a.push(t)}),r=a,o.itms=Object(r)}finally{if(void 0===o.itms||void 0===o.rcps)return;$.ajax({beforeSend:function(){},type:"POST",contentType:"application/json",dataType:"json",data:JSON.stringify(o),url:"http://localhost:8080/setData",success:function(e){$("#rSave").prop("disabled",!1);var n=e.name;$("#rName").html(n);for(var t=e.ingredients,a=0,r=0;r<t.length;r++){a+=1;for(var i=document.getElementById("rTable"),o=0;o<3;o++){i.rows.length;var l=i.insertRow(),s=l.insertCell(),d=l.insertCell();0==o&&(s.innerHTML="Ingredient "+a,d.innerHTML="Item: "+t[r].item),1==o&&(s.innerHTML="",d.innerHTML="Amout: "+t[r].amount),2==o&&(s.innerHTML="",d.innerHTML="Unit: "+t[r].unit)}}}})}}}})});